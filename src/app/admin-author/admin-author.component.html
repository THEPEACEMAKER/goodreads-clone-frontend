<div class="bigbody">
  <h1 class="text-center">Welcome to Admin Page!</h1>
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarTogglerDemo03"
        aria-controls="navbarTogglerDemo03"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand home" [routerLink]="['/home']">HOME</a>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 smsm">
          <li class="nav-item">
            <a class="nav-link smsmlink" routerLink="admin">Categories</a>
          </li>
          <li class="nav-item">
            <a class="nav-link smsmlink">Books</a>
          </li>
          <li class="nav-item">
            <a class="nav-link smsmlink" routerLink="trial">Authors</a>
          </li>
        </ul>
        <ul class="navbar-nav mb-2 mb-lg-0">
          <li class="nav-item">
            <!-- <a class="nav-link logout" style="cursor: pointer;" (click)="logout()">Logout</a> -->
            <button class="logout" (click)="logout()">
              <a>logout</a>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</div>

<button class="newbtn" data-bs-toggle="modal" data-bs-target="#addFormDrop">
  <span>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
      <path fill="none" d="M0 0h24v24H0z"></path>
      <path fill="currentColor" d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"></path>
    </svg>
    Add Author
  </span>
</button>

<!-- Modal -->
<div
  class="modal fade"
  id="addFormDrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="addFormDropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="addFormDropLabel">Add new Author</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          (click)="addForm.reset()"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="addAuthor()" [formGroup]="addForm">
          <!-- <div class="input-group"> -->
          <input
            type="text"
            class="form-control mb-2"
            placeholder="First Name..."
            formControlName="firstName"
          />
          <input
            type="text"
            class="form-control mb-2"
            placeholder="Last Name..."
            formControlName="lastName"
          />
          <input type="date" class="form-control mb-2" formControlName="dob" />
          <input type="file" formControlName="image"
          (change)="onFileSelect($event)" class="form-control mb-2" formControlName="image" />
          <!-- </div> -->
          <button [disabled]="!addForm.valid" class="btn btn-primary ma">Add</button>
        </form>
      </div>
      <!-- <div *ngIf="addingError" class="alert alert-danger">
        <div>{{ addingError }}</div>
      </div> -->
      <!-- <div *ngIf="categorySuccess" class="alert alert-success">
              <div>Category added successfully</div>
            </div> -->
    </div>
  </div>
</div>

<!-- authors conatiner-->
<div *ngFor="let a of authors" class="container card mt-3" style="height: 10rem">
  <div class="row card-body overflow-hidden">
    <div class="col-2">
      <img
        [src]="a.imageUrl"
        class="rounded"
        style="max-width: 100%; max-height: 100%"
        alt="..."
      />
    </div>
    <div class="col">
      <h5 class="">{{ a.firstName + ' ' + a.lastName }}</h5>
    </div>
    <div class="col-2">
      <div class="row p-1">
        <a
          href="#"
          class="btn btn-primary"
          data-bs-toggle="modal"
          data-bs-target="#editFormDrop"
          (click)="getSelectedAuthor(a)"
          >Edit</a
        >

        <!-- Modal -->
        <div
          class="modal fade"
          id="editFormDrop"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
          tabindex="-1"
          aria-labelledby="editFormDropLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="editFormDropLabel">Edit Here</h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                  (click)="editForm.reset()"
                ></button>
              </div>
              <div class="modal-body">
                <form [formGroup]="editForm" (ngSubmit)="editAuthor(a)">
                  <input
                    type="text"
                    class="form-control mb-2"
                    placeholder="First Name..."
                    formControlName="firstName"
                    value="a.firstName"
                  />
                  <input
                    type="text"
                    class="form-control mb-2"
                    formControlName="lastName"
                    value="lol"
                  />
                  <input type="date" class="form-control mb-2" formControlName="dob" />
                  <input type="file" class="form-control mb-2" formControlName="image" />
                  <button class="btn btn-primary ma" data-bs-dismiss="modal">Edit</button>
                </form>
              </div>
              <!-- <div *ngIf="categoryError" class="alert alert-danger">
                 <div >You can't Edit empty value</div>
                  </div>
                </div> -->
            </div>
          </div>
        </div>
        <div class="row p-1">
          <a class="btn btn-primary" (click)="deleteAuthor(a)">Delete</a>
        </div>
      </div>
    </div>
    <!-- <div class="card-body">
          <p class="card-text"></p>
        </div> -->
  </div>
</div>
